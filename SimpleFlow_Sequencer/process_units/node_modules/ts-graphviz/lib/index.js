"use strict";var t;Object.defineProperty(exports,"__esModule",{value:!0}),(t=exports.attribute||(exports.attribute={})).Damping="Damping",t.K="K",t.URL="URL",t._background="_background",t.area="area",t.arrowhead="arrowhead",t.arrowsize="arrowsize",t.arrowtail="arrowtail",t.bb="bb",t.bgcolor="bgcolor",t.center="center",t.charset="charset",t.clusterrank="clusterrank",t.color="color",t.colorscheme="colorscheme",t.comment="comment",t.compound="compound",t.concentrate="concentrate",t.constraint="constraint",t.decorate="decorate",t.defaultdist="defaultdist",t.dim="dim",t.dimen="dimen",t.dir="dir",t.diredgeconstraints="diredgeconstraints",t.distortion="distortion",t.dpi="dpi",t.edgeURL="edgeURL",t.edgehref="edgehref",t.edgetarget="edgetarget",t.edgetooltip="edgetooltip",t.epsilon="epsilon",t.esep="esep",t.fillcolor="fillcolor",t.fixedsize="fixedsize",t.fontcolor="fontcolor",t.fontname="fontname",t.fontnames="fontnames",t.fontpath="fontpath",t.fontsize="fontsize",t.forcelabels="forcelabels",t.gradientangle="gradientangle",t.group="group",t.headURL="headURL",t.head_lp="head_lp",t.headclip="headclip",t.headhref="headhref",t.headlabel="headlabel",t.headport="headport",t.headtarget="headtarget",t.headtooltip="headtooltip",t.height="height",t.href="href",t.id="id",t.image="image",t.imagepath="imagepath",t.imagepos="imagepos",t.imagescale="imagescale",t.inputscale="inputscale",t.label="label",t.labelURL="labelURL",t.label_scheme="label_scheme",t.labelangle="labelangle",t.labeldistance="labeldistance",t.labelfloat="labelfloat",t.labelfontcolor="labelfontcolor",t.labelfontname="labelfontname",t.labelfontsize="labelfontsize",t.labelhref="labelhref",t.labeljust="labeljust",t.labelloc="labelloc",t.labeltarget="labeltarget",t.labeltooltip="labeltooltip",t.landscape="landscape",t.layer="layer",t.layerlistsep="layerlistsep",t.layers="layers",t.layerselect="layerselect",t.layersep="layersep",t.layout="layout",t.len="len",t.levels="levels",t.levelsgap="levelsgap",t.lhead="lhead",t.lheight="lheight",t.lp="lp",t.ltail="ltail",t.lwidth="lwidth",t.margin="margin",t.maxiter="maxiter",t.mclimit="mclimit",t.mindist="mindist",t.minlen="minlen",t.mode="mode",t.model="model",t.mosek="mosek",t.newrank="newrank",t.nodesep="nodesep",t.nojustify="nojustify",t.normalize="normalize",t.notranslate="notranslate",t.nslimit="nslimit",t.nslimit1="nslimit1",t.ordering="ordering",t.orientation="orientation",t.outputorder="outputorder",t.overlap="overlap",t.overlap_scaling="overlap_scaling",t.overlap_shrink="overlap_shrink",t.pack="pack",t.packmode="packmode",t.pad="pad",t.page="page",t.pagedir="pagedir",t.pencolor="pencolor",t.penwidth="penwidth",t.peripheries="peripheries",t.pin="pin",t.pos="pos",t.quadtree="quadtree",t.quantum="quantum",t.rank="rank",t.rankdir="rankdir",t.ranksep="ranksep",t.ratio="ratio",t.rects="rects",t.regular="regular",t.remincross="remincross",t.repulsiveforce="repulsiveforce",t.resolution="resolution",t.root="root",t.rotate="rotate",t.rotation="rotation",t.samehead="samehead",t.sametail="sametail",t.samplepoints="samplepoints",t.scale="scale",t.searchsize="searchsize",t.sep="sep",t.shape="shape",t.shapefile="shapefile",t.showboxes="showboxes",t.sides="sides",t.size="size",t.skew="skew",t.smoothing="smoothing",t.sortv="sortv",t.splines="splines",t.start="start",t.style="style",t.stylesheet="stylesheet",t.tailURL="tailURL",t.tail_lp="tail_lp",t.tailclip="tailclip",t.tailhref="tailhref",t.taillabel="taillabel",t.tailport="tailport",t.tailtarget="tailtarget",t.tailtooltip="tailtooltip",t.target="target",t.tooltip="tooltip",t.truecolor="truecolor",t.vertices="vertices",t.viewport="viewport",t.voro_margin="voro_margin",t.weight="weight",t.width="width",t.xdotversion="xdotversion",t.xlabel="xlabel",t.xlp="xlp",t.z="z",function(t){t.n="n",t.ne="ne",t.e="e",t.se="se",t.s="s",t.sw="sw",t.w="w",t.nw="nw",t.c="c";var e=[t.n,t.ne,t.e,t.se,t.s,t.sw,t.w,t.nw,t.c];t.is=function(t){return e.includes(t)}}(exports.Compass||(exports.Compass={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)};function r(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function n(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var o=function(){},i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o),a=function(t){function e(e){var r=t.call(this)||this;return r.attrs=new Map,void 0!==e&&r.apply(e),r}return r(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.attrs.entries())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.attrs.size},enumerable:!1,configurable:!0}),e.prototype.get=function(t){return this.attrs.get(t)},e.prototype.set=function(t,e){null!=e&&this.attrs.set(t,e)},e.prototype.delete=function(t){this.attrs.delete(t)},e.prototype.apply=function(t){for(var e=0,r=Array.isArray(t)?t:Object.entries(t);e<r.length;e++){var n=r[e],o=n[0],i=n[1];this.set(o,i)}},e.prototype.clear=function(){this.attrs.clear()},e}(i),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(a),u=function(t,e){this.id=t,this.port=e},p=function(t,e){this.node=t,this.port=e},l=function(t){function e(e,r){var n=t.call(this)||this;return n.id=e,n.attributes=new s(r),n}return r(e,t),e.prototype.port=function(t){return new p(this,"string"==typeof t?{port:t}:t)},e}(i);function c(t){return t instanceof l||t instanceof p||t instanceof u}function f(t){return"string"==typeof t||c(t)}function d(t){return Array.isArray(t)&&t.every(f)}var h=function(t){function e(e,r){var n=t.call(this)||this;if(n.targets=e,e.length<2&&!1===(f(e[0])&&f(e[1])))throw Error("The element of Edge target is missing or not satisfied as Edge target.");return n.attributes=new s(r),n}return r(e,t),e}(i),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.objects={nodes:new Map,edges:new Set,subgraphs:new Set},e}return r(e,t),Object.defineProperty(e.prototype,"nodes",{get:function(){return Array.from(this.objects.nodes.values())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"edges",{get:function(){return Array.from(this.objects.edges.values())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subgraphs",{get:function(){return Array.from(this.objects.subgraphs.values())},enumerable:!1,configurable:!0}),e.prototype.addNode=function(t){this.objects.nodes.set(t.id,t)},e.prototype.addEdge=function(t){this.objects.edges.add(t)},e.prototype.addSubgraph=function(t){this.objects.subgraphs.add(t)},e.prototype.existNode=function(t){return this.objects.nodes.has(t)},e.prototype.existEdge=function(t){return this.objects.edges.has(t)},e.prototype.existSubgraph=function(t){return this.objects.subgraphs.has(t)},e.prototype.createSubgraph=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.find((function(t){return"string"==typeof t})),n=t.find((function(t){return"object"==typeof t})),o=new b(r,n);return this.objects.subgraphs.add(o),o},e.prototype.removeNode=function(t){this.objects.nodes.delete("string"==typeof t?t:t.id)},e.prototype.removeEdge=function(t){this.objects.edges.delete(t)},e.prototype.removeSubgraph=function(t){this.objects.subgraphs.delete(t)},e.prototype.createNode=function(t,e){var r=new l(t,e);return this.objects.nodes.set(t,r),r},e.prototype.getSubgraph=function(t){return Array.from(this.objects.subgraphs.values()).find((function(e){return e.id===t}))},e.prototype.getNode=function(t){return this.objects.nodes.get(t)},e.prototype.createEdge=function(t,e){var r=this,n=new h(t.map((function(t){return d(t)?r.toEdgeTargets(t):r.toEdgeTarget(t)})),e);return this.objects.edges.add(n),n},e.prototype.toEdgeTarget=function(t){if(c(t))return t;var e=t.split(":"),r=e[0],n=e[1],o=e[2],i=this.getNode(r);return void 0!==i?n&&(void 0===o||exports.Compass.is(o))?i.port({port:n,compass:o}):i:exports.Compass.is(o)?new u(r,{port:n,compass:o}):new u(r,{port:n})},e.prototype.toEdgeTargets=function(t){var e=this;if(t.length<2&&!1===(f(t[0])&&f(t[1])))throw Error("EdgeTargets must have at least 2 elements.");return t.map((function(t){return e.toEdgeTarget(t)}))},e.prototype.subgraph=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e.find((function(t){return"string"==typeof t})),o=e.find((function(t){return"object"==typeof t&&null!==t})),i=e.find((function(t){return"function"==typeof t})),a=n?null!==(t=this.getSubgraph(n))&&void 0!==t?t:this.createSubgraph(n):this.createSubgraph();return void 0!==o&&this.apply(o),void 0!==i&&i(a),a},e.prototype.node=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=r.find((function(t){return"object"==typeof t&&null!==t})),i=r.find((function(t){return"function"==typeof t})),a=null!==(e=this.getNode(t))&&void 0!==e?e:this.createNode(t);return void 0!==o&&a.attributes.apply(o),void 0!==i&&i(a),a},e.prototype.edge=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.find((function(t){return"object"==typeof t})),o=e.find((function(t){return"function"==typeof t})),i=this.createEdge(t,n);return void 0!==o&&o(i),i},e}(a),b=function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.call(this)||this;n.attributes={graph:new s,edge:new s,node:new s},n.id=e.find((function(t){return"string"==typeof t}));var o=e.find((function(t){return"object"==typeof t}));return void 0!==o&&n.apply(o),n}return r(e,t),e.prototype.isSubgraphCluster=function(){return"string"==typeof this.id&&this.id.startsWith("cluster")},e}(g),v=function(t){function e(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=t.call(this)||this;o.attributes={graph:new s,edge:new s,node:new s},o.id=r.find((function(t){return"string"==typeof t})),o.strict=null!==(e=r.find((function(t){return"boolean"==typeof t})))&&void 0!==e&&e;var i=r.find((function(t){return"object"==typeof t}));return void 0!==i&&o.apply(i),o}return r(e,t),e}(g),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(v),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(v);function w(t,e){return void 0===e&&(e=!1),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=r.find((function(t){return"string"==typeof t})),i=r.find((function(t){return"object"==typeof t})),a=r.find((function(t){return"function"==typeof t})),s=new t(o,i,e);return"function"==typeof a&&a(s),s}}var j=w(m),x=w(y),k={digraph:w(m,!0),graph:w(y,!0)};var _,z,E=(_='"',function(t){return function(t,e){return""+e+t+e}(t,_)}),S=(z=" ",function(t){if("string"==typeof t)return function(t,e){return""+e+t}(t,z)});function O(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter((function(t){return"string"==typeof t})).join(t)}}var N=O(" "),R=O(":"),A=O("\n"),C=O("");function L(t){return t.split("\n").map((function(t){return C("  ",t)})).join("\n")}function T(t){return"string"==typeof t?function(t){return t.split("\n").map((function(t){return C("// ",t).trim()})).join("\n")}(t):void 0}function U(t){return t instanceof b}function P(t){return t instanceof l}function D(t){return t instanceof y}function q(t){return t instanceof m?"digraph":D(t)?"graph":U(t)?"subgraph":void 0}function M(t){var e="string"!=typeof t,r=!1,n=!1,o="string"==typeof t?t:t.toString();if(e)r=!1;else{var i=o.trim();(r=/^<.+>$/ms.test(i))?o=i:n=!0}return e||r?o:n?E(o.replace(/\n/g,"\\n").replace(/"/g,'\\"')):o}function G(t){return function(e){var r=e[0],n=e[1];return C(r," = ",M(n),t)}}var K=G(";"),W=G(",");function B(t){return 0===t.size?"":A("[",L(A.apply(void 0,n([T(t.comment)],t.values.map(W)))),"]")}function F(t){if(P(t))return M(t.id);if(t instanceof p){var e=t.port,r=e.port,n=e.compass;return R(M(t.node.id),void 0!==r?M(r):void 0,void 0!==n?M(n):void 0)}if(function(t){return t instanceof u}(t)){var o=t.port;r=o.port,n=o.compass;return R(M(t.id),void 0!==r?M(r):void 0,void 0!==n?M(n):void 0)}}var $=function(){function t(){}return t.prototype.renderNode=function(t){var e=T(t.comment),r=F(t),n=t.attributes.size>0?S(B(t.attributes)):void 0,o=C(r,n,";");return A(e,o)},t.prototype.renderEdge=function(t){var e,r=T(t.comment),n=(e=D(this.root)?" -- ":" -> ",t.targets.map((function(t){return f(t)?F(t):(e=t,"{"+N.apply(void 0,e.map(F))+"}");var e})).filter((function(t){return"string"==typeof t})).join(e)),o=t.attributes.size>0?S(B(t.attributes)):void 0,i=C(n,o,";");return A(r,i)},t.prototype.renderCluster=function(t){var e=q(t),r=void 0!==t.id?M(t.id):void 0,o=t.values.map(K),i=Object.entries(t.attributes).filter((function(t){return t[1].size>0})).map((function(t){var e=t[0],r=t[1];return C(e," ",B(r),";")})),a=t.nodes.map(this.renderNode.bind(this)),s=t.subgraphs.map(this.renderSubgraph.bind(this)),u=t.edges.map(this.renderEdge.bind(this)),p=A.apply(void 0,n(o,i,a,s,u));return A(N(e,r,"{"),p.length>0?L(p):void 0,"}")},t.prototype.renderRootCluster=function(t){var e=T(t.comment),r=this.renderCluster(t);return A(e,N(t.strict?"strict":void 0,r))},t.prototype.renderSubgraph=function(t){var e=T(t.comment),r=this.renderCluster(t);return A(e,r)},t.prototype.render=function(t){return P(t)?this.renderNode(t):function(t){return t instanceof h}(t)?this.renderEdge(t):function(t){return t instanceof s}(t)?B(t):U(t)?this.renderSubgraph(t):function(t){return t instanceof v}(t)?(this.root=t,this.renderRootCluster(t)):M(t)},t}();exports.Attributes=s,exports.AttributesBase=a,exports.Cluster=g,exports.Digraph=m,exports.DotObject=i,exports.Edge=h,exports.ForwardRefNode=u,exports.Graph=y,exports.GraphvizObject=o,exports.Node=l,exports.NodeWithPort=p,exports.RootCluster=v,exports.Subgraph=b,exports.digraph=j,exports.graph=x,exports.isEdgeTarget=c,exports.isEdgeTargetLike=f,exports.isEdgeTargetsLike=d,exports.strict=k,exports.toDot=function(t){return(new $).render(t)};
